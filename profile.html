<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Профиль | To-Do List</title>
  <link href="profile_style.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
  <div class="header">
    <div class="logo">To-Do List</div>
    <div class="nav">
      <a href="dashboard.html">Dashboard</a>
      <a href="categories.html">Categories</a>
      <a href="contact.html">Contact</a>
    </div>
  </div>

  <div class="profile-container">
    <div class="profile-header">
      <div class="avatar"></div>
      <h3 id="profile-title">Ваш профиль</h3>
    </div>
    
    <form id="profile-form">
      <div class="mb-3">
        <label class="form-label">Имя</label>
        <input type="text" class="form-control" id="profile-name" value="Нурлан" required>
      </div>
      <div class="mb-3">
        <label class="form-label">Email</label>
        <input type="email" class="form-control" id="profile-email" value="nurlan@example.com" required>
      </div>
      <div class="mb-3">
        <label class="form-label">Пароль</label>
        <input type="password" class="form-control" id="profile-password" value="123456" required>
      </div>
      <button type="submit" class="btn btn-primary w-100">Сохранить изменения</button>
    </form>

    <button class="btn btn-danger logout-btn" id="logout-btn">Выйти</button>
  </div>

  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
  <script>
  $(document).ready(function() {
    const profileForm = $('#profile-form');
    const logoutBtn = $('#logout-btn');
    const profileTitle = $('#profile-title');

    function loadProfile() {
      const user = JSON.parse(localStorage.getItem('currentUser')) || {
        name: 'Нурлан',
        email: 'nurlan@example.com'
      };
      $('#profile-name').val(user.name || 'Нурлан');
      $('#profile-email').val(user.email || 'nurlan@example.com');
      profileTitle.text(`${user.name || 'Ваш'} профиль`);
    }

    profileForm.on('submit', function(e) {
      e.preventDefault();
      const name = $('#profile-name').val();
      const email = $('#profile-email').val();
      const password = $('#profile-password').val();

      localStorage.setItem('currentUser', JSON.stringify({
        name: name,
        email: email
      }));

      profileTitle.text(`${name} профиль`);
      
      $('<div class="alert alert-success mt-3">Профиль успешно сохранен!</div>')
        .insertBefore(profileForm)
        .delay(2000)
        .fadeOut();
    });

    logoutBtn.on('click', function() {
      localStorage.removeItem('currentUser');
      window.location.href = 'login.html';
    });

    loadProfile();
  });
  </script>
</body>
</html>